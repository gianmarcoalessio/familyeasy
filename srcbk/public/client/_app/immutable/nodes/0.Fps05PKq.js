import{s as O,e as E,c as y,b as h,f as c,o as i,C as F,i as d,n as I,u as G,k as T,a as j,t as H,g as B,d as K,D as p,h as g,p as P,j as X,E as k,F as v,z as Q,G as R,H as W,I as Y,J as Z,K as x}from"../chunks/scheduler.335M-m3f.js";import{S as U,i as V,c as ee,a as te,m as se,t as w,d as $,f as re,e as le,g as oe}from"../chunks/index.K2G5X1vL.js";import{e as M}from"../chunks/each.6w4Ej4nR.js";import{m as D,s as ne,d as L}from"../chunks/servizi.ZOpgIISb.js";import{g as S,b as ae}from"../chunks/entry.UL_xJ6rH.js";function A(n,e,r){const t=n.slice();return t[3]=e[r],t[5]=r,t}function ie(n){let e,r;return{c(){e=k("svg"),r=k("path"),this.h()},l(t){e=v(t,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0});var s=h(e);r=v(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),h(r).forEach(c),s.forEach(c),this.h()},h(){i(r,"stroke-linecap","round"),i(r,"stroke-linejoin","round"),i(r,"stroke-width","2"),i(r,"d","M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","stroke-current shrink-0 h-6 w-6"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24")},m(t,s){d(t,e,s),g(e,r)},d(t){t&&c(e)}}}function ce(n){let e,r;return{c(){e=k("svg"),r=k("path"),this.h()},l(t){e=v(t,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0});var s=h(e);r=v(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),h(r).forEach(c),s.forEach(c),this.h()},h(){i(r,"stroke-linecap","round"),i(r,"stroke-linejoin","round"),i(r,"stroke-width","2"),i(r,"d","M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","stroke-current shrink-0 h-6 w-6"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24")},m(t,s){d(t,e,s),g(e,r)},d(t){t&&c(e)}}}function ue(n){let e,r;return{c(){e=k("svg"),r=k("path"),this.h()},l(t){e=v(t,"svg",{xmlns:!0,class:!0,fill:!0,viewBox:!0});var s=h(e);r=v(s,"path",{"stroke-linecap":!0,"stroke-linejoin":!0,"stroke-width":!0,d:!0}),h(r).forEach(c),s.forEach(c),this.h()},h(){i(r,"stroke-linecap","round"),i(r,"stroke-linejoin","round"),i(r,"stroke-width","2"),i(r,"d","M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"),i(e,"xmlns","http://www.w3.org/2000/svg"),i(e,"class","stroke-current shrink-0 h-6 w-6"),i(e,"fill","none"),i(e,"viewBox","0 0 24 24")},m(t,s){d(t,e,s),g(e,r)},d(t){t&&c(e)}}}function C(n){let e,r,t,s=n[3].messaggio+"",o,l,a,_;function z(f,u){return f[3].ruolo=="error"?ue:f[3].ruolo=="warning"?ce:ie}let b=z(n),m=b(n);function q(){return n[2](n[5])}return{c(){e=E("button"),m.c(),r=j(),t=E("span"),o=H(s),l=j(),this.h()},l(f){e=y(f,"BUTTON",{role:!0,class:!0});var u=h(e);m.l(u),r=B(u),t=y(u,"SPAN",{});var N=h(t);o=K(N,s),N.forEach(c),l=B(u),u.forEach(c),this.h()},h(){i(e,"role","alert"),i(e,"class","alert"),p(e,"alert-error",n[3].ruolo=="error"),p(e,"alert-warning",n[3].ruolo=="warning"),p(e,"alert-success",n[3].ruolo=="success")},m(f,u){d(f,e,u),m.m(e,null),g(e,r),g(e,t),g(t,o),g(e,l),a||(_=P(e,"click",q),a=!0)},p(f,u){n=f,b!==(b=z(n))&&(m.d(1),m=b(n),m&&(m.c(),m.m(e,r))),u&1&&s!==(s=n[3].messaggio+"")&&X(o,s),u&1&&p(e,"alert-error",n[3].ruolo=="error"),u&1&&p(e,"alert-warning",n[3].ruolo=="warning"),u&1&&p(e,"alert-success",n[3].ruolo=="success")},d(f){f&&c(e),m.d(),a=!1,_()}}}function fe(n){let e,r=M(n[0]),t=[];for(let s=0;s<r.length;s+=1)t[s]=C(A(n,r,s));return{c(){e=E("div");for(let s=0;s<t.length;s+=1)t[s].c();this.h()},l(s){e=y(s,"DIV",{class:!0,style:!0});var o=h(e);for(let l=0;l<t.length;l+=1)t[l].l(o);o.forEach(c),this.h()},h(){i(e,"class","stack"),F(e,"transform","translateX(-50%)")},m(s,o){d(s,e,o);for(let l=0;l<t.length;l+=1)t[l]&&t[l].m(e,null)},p(s,[o]){if(o&3){r=M(s[0]);let l;for(l=0;l<r.length;l+=1){const a=A(s,r,l);t[l]?t[l].p(a,o):(t[l]=C(a),t[l].c(),t[l].m(e,null))}for(;l<t.length;l+=1)t[l].d(1);t.length=r.length}},i:I,o:I,d(s){s&&c(e),G(t,s)}}}function he(n,e,r){let t;T(n,D,l=>r(0,t=l));async function s(l){if(l>=0&&l<t.length){const a=t[l].messaggio;D.update(_=>(_.splice(l,1),_)),a==="User not authenticated"&&(await S("/"),window.location.reload())}}return[t,s,l=>{s(l)}]}class me extends U{constructor(e){super(),V(this,e,he,fe,O,{})}}function J(n){let e;const r=n[2].default,t=R(r,n,n[1],null);return{c(){t&&t.c()},l(s){t&&t.l(s)},m(s,o){t&&t.m(s,o),e=!0},p(s,o){t&&t.p&&(!e||o&2)&&W(t,r,s,s[1],e?Z(r,s[1],o,null):Y(s[1]),null)},i(s){e||(w(t,s),e=!0)},o(s){$(t,s),e=!1},d(s){t&&t.d(s)}}}function _e(n){let e,r,t,s,o=n[0]&&J(n);return t=new me({}),{c(){o&&o.c(),e=j(),r=E("div"),ee(t.$$.fragment),this.h()},l(l){o&&o.l(l),e=B(l),r=y(l,"DIV",{class:!0});var a=h(r);te(t.$$.fragment,a),a.forEach(c),this.h()},h(){i(r,"class","absolute top-2 left-[50%]")},m(l,a){o&&o.m(l,a),d(l,e,a),d(l,r,a),se(t,r,null),s=!0},p(l,[a]){l[0]?o?(o.p(l,a),a&1&&w(o,1)):(o=J(l),o.c(),w(o,1),o.m(e.parentNode,e)):o&&(oe(),$(o,1,1,()=>{o=null}),re())},i(l){s||(w(o),w(t.$$.fragment,l),s=!0)},o(l){$(o),$(t.$$.fragment,l),s=!1},d(l){l&&(c(e),c(r)),o&&o.d(l),le(t)}}}function ge(n,e,r){let t;T(n,L,a=>r(3,t=a));let{$$slots:s={},$$scope:o}=e,l=!1;return Q(()=>{let a=JSON.parse(localStorage.getItem("token")||"{}");a.token&&(ne(a.token),x(L,t=a,t)),r(0,l=!0),t.token||S("/")}),ae(async({to:a,cancel:_})=>{t.token||(a==null?void 0:a.route.id)!="/registration"&&(a==null?void 0:a.route.id)!="/"&&(await _(),S("/"))}),n.$$set=a=>{"$$scope"in a&&r(1,o=a.$$scope)},[l,o,s]}class be extends U{constructor(e){super(),V(this,e,ge,_e,O,{})}}export{be as component};
