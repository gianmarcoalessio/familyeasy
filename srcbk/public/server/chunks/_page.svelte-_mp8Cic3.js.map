{"version":3,"file":"_page.svelte-_mp8Cic3.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/test/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, f as createEventDispatcher, d as add_attribute, e as each, b as escape, v as validate_component } from \"../../../chunks/ssr.js\";\nimport { N as Navigator } from \"../../../chunks/Navigator.js\";\nimport { I as Input } from \"../../../chunks/Input.js\";\nimport { S as Search } from \"../../../chunks/Search.js\";\nconst Categoria = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  createEventDispatcher();\n  let categorie = [];\n  let { categoria = {} } = $$props;\n  if ($$props.categoria === void 0 && $$bindings.categoria && categoria !== void 0)\n    $$bindings.categoria(categoria);\n  return `<select class=\"select select-bordered\"${add_attribute(\"value\", categoria._id, 0)}><option disabled value=\"\" data-svelte-h=\"svelte-1si2e75\">Seleziona categoria</option>${each(categorie, (option) => {\n    return `<option ${option._id == categoria._id ? \"selected\" : \"\"}${add_attribute(\"value\", option._id, 0)}>${escape(option.name)}</option>`;\n  })}</select>`;\n});\nfunction formatCurrency(value) {\n  return Number(value).toLocaleString(\"it-IT\", { style: \"currency\", currency: \"EUR\" });\n}\nconst Aggiungispesa = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let categoria;\n  let totaleCosti;\n  let isrimborso;\n  let { open = false } = $$props;\n  createEventDispatcher();\n  let expense = { quote: [], category: {} };\n  function getisrimborso() {\n    return categoria.name === \"Rimborso\" ? true : false;\n  }\n  function gettotaleCosti() {\n    let quote = expense.quote;\n    if (isrimborso && quote.length > 1) {\n      let totale = 0;\n      for (let i = 1; i < quote.length; i++) {\n        totale += quote[i].cost;\n        quote[i].rimborso = true;\n      }\n      quote[0].cost = totale;\n      quote[0].rimborso = false;\n      return 0;\n    } else {\n      return expense.quote.reduce(\n        (total, quota) => {\n          quota.rimborso = false;\n          return total + quota.cost;\n        },\n        0\n      );\n    }\n  }\n  if ($$props.open === void 0 && $$bindings.open && open !== void 0)\n    $$bindings.open(open);\n  let $$settled;\n  let $$rendered;\n  let previous_head = $$result.head;\n  do {\n    $$settled = true;\n    $$result.head = previous_head;\n    categoria = expense.category;\n    totaleCosti = gettotaleCosti();\n    isrimborso = getisrimborso();\n    $$rendered = `<dialog class=\"modal\" ${open ? \"open\" : \"\"}><div class=\"${\"modal-box flex flex-col space-y-3 \" + escape(isrimborso ? \"bg-neutral-content\" : \"\", true)}\"><div class=\"text-4xl text-primary \">Aggiungi ${escape(isrimborso ? \"Rimborso\" : \"Spesa\")}</div> <div>Completare i campi per aggiungere ${escape(isrimborso ? \"un rimborso\" : \"una spesa\")}</div> <textarea class=\"textarea textarea-bordered textarea-md w-full\" placeholder=\"Descrizione della spesa\">${escape(expense.description || \"\")}</textarea> <div class=\"grid grid-cols-2 items-center justify-center gap-2 w-full\">${validate_component(Categoria, \"Categoria\").$$render(\n      $$result,\n      { categoria: expense.category },\n      {\n        categoria: ($$value) => {\n          expense.category = $$value;\n          $$settled = false;\n        }\n      },\n      {}\n    )} ${validate_component(Input, \"Input\").$$render(\n      $$result,\n      {\n        placeholder: \"\",\n        type: \"date\",\n        value: expense.date\n      },\n      {\n        value: ($$value) => {\n          expense.date = $$value;\n          $$settled = false;\n        }\n      },\n      {}\n    )}</div> ${validate_component(Search, \"Search\").$$render(\n      $$result,\n      {\n        topleftlabel: isrimborso ? \"Aggiungere gli utenti da rimborsare\" : \"Cerca un utente a cui associare una quota\"\n      },\n      {},\n      {}\n    )} ${validate_component(Input, \"Input\").$$render(\n      $$result,\n      {\n        topleftlabel: \"Totale spesa (somma delle quote)\",\n        disabled: true,\n        value: formatCurrency(totaleCosti)\n      },\n      {},\n      {}\n    )} <table class=\"table p-2 shadow bg-base-100 w-full text-center\"><thead data-svelte-h=\"svelte-1ashv4j\"><tr><th>Username</th> <th>Quota</th> <th>Spesa/Rimborso</th> <th></th></tr></thead> <tbody>${each(expense.quote, (quota, i) => {\n      return `<tr><td class=\"flex-1\">@${escape(quota.user.username)}</td> <td><input type=\"number\" class=\"${\"w-40 text-lg p-2 text-center rounded-lg \" + escape(quota.rimborso ? \"text-success\" : \"text-error\", true)}\"${add_attribute(\"placeholder\", formatCurrency(quota.cost), 0)} ${i == 0 && categoria.name === \"Rimborso\" ? \"disabled\" : \"\"}${add_attribute(\"value\", quota.cost, 0)}></td> <td><input type=\"checkbox\" disabled class=\"toggle\"${add_attribute(\"checked\", quota.rimborso, 1)}></td> <td>${i > 0 ? `<button class=\"btn\" data-svelte-h=\"svelte-3scbwu\">x</button>` : ``}</td> </tr>`;\n    })} </tbody><tbody data-svelte-h=\"svelte-1pa1zxo\"></tbody></table> <button class=\"btn btn-primary w-full\" data-svelte-h=\"svelte-v4vzth\">Aggiungi</button> <div class=\"modal-action\"><button class=\"btn\" data-svelte-h=\"svelte-9u1up7\">Close</button></div></div></dialog>`;\n  } while (!$$settled);\n  return $$rendered;\n});\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let categoria = {};\n  let $$settled;\n  let $$rendered;\n  let previous_head = $$result.head;\n  do {\n    $$settled = true;\n    $$result.head = previous_head;\n    $$rendered = `<div class=\"flex flex-col space-y-4 mx-24 mt-4\">${validate_component(Navigator, \"Navigator\").$$render($$result, {}, {}, {})} <div class=\"text-6xl font-bold \" data-svelte-h=\"svelte-1k2z2ea\">test</div></div> <div class=\"flex flex-col justify-center items-center w-1/2 space-y-4 mt-24 m-auto\"><button data-svelte-h=\"svelte-n4xfdz\">Prova</button> <pre>${escape(JSON.stringify(categoria, null, 2))}</pre> ${validate_component(Categoria, \"Categoria\").$$render(\n      $$result,\n      { categoria },\n      {\n        categoria: ($$value) => {\n          categoria = $$value;\n          $$settled = false;\n        }\n      },\n      {}\n    )} ${validate_component(Aggiungispesa, \"Aggiungispesa\").$$render($$result, {}, {}, {})}</div>`;\n  } while (!$$settled);\n  return $$rendered;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":"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"}